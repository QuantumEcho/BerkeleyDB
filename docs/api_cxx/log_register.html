<!--"@(#)log_register.so	10.21 (Sleepycat) 9/6/99"-->
<!--Copyright 1997, 1998, 1999 by Sleepycat Software, Inc.-->
<!--All rights reserved.-->
<html>
<head>
<title>Berkeley DB: DbEnv::log_register</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,b+tree,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,java,C,C++">
</head>
<body bgcolor=white>
<table><tr valign=top>
<td>
<h1>DbEnv::log_register</h1>
</td>
<td width="1%">
<a href="../api_cxx/cxx_index.html"><img src="../images/api.gif" alt="API"></a><a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<hr size=1 noshade>
<tt>
<h3><pre>
#include &lt;db_cxx.h&gt;
<p>
int
DbEnv::log_register(Db *dbp, const char *name, int32_t *fidp);
</pre></h3>
<h1>Description</h1>
<p>
The DbEnv::log_register method registers a file name with the log manager and
copies a file identification number into the memory location referenced by
<b>fidp</b>.
<p>
This file identification number should be used in all subsequent log
messages that refer to operations on the file.  The log manager records
all file name to file identification number mappings at each checkpoint
so that a recovery process can identify the file to which a record in the
log refers.
<p>
The <b>dbp</b> parameter should be a reference to a <a href="../api_cxx/db_class.html">Db</a> object.
<p>
The DbEnv::log_register
method either returns a non-zero error value or throws an exception that
encapsulates a non-zero error value on failure, and returns 0 on success.
<p>
<h1>Errors</h1>
If a fatal error occurs in Berkeley DB, the DbEnv::log_register method will fail and either
return <a href="../ref/program/errorret.html#DB_RUNRECOVERY">DB_RUNRECOVERY</a> or throw an exception encapsulating
<a href="../ref/program/errorret.html#DB_RUNRECOVERY">DB_RUNRECOVERY</a>, at which point all subsequent database calls will
fail in the same way.
<p>
In addition, the DbEnv::log_register
method may fail and throw an exception
or return a non-zero error
for the following conditions:
<dl compact>
<p><dt>EINVAL<dd>An invalid flag value or parameter was specified.
</dl>
<p>
In addition, the DbEnv::log_register method may fail and
throw an exception or return a non-zero error
for errors specified for other Berkeley DB and C library or system methods.
<p>
<h3>Class</h3>
<a href="../api_cxx/dbenv_class.html">DbEnv</a>
<p>
<h1>See Also</h1>
<a href="../api_cxx/env_set_lg_bsize.html">DbEnv::set_lg_bsize</a>,
<a href="../api_cxx/env_set_lg_max.html">DbEnv::set_lg_max</a>,
<a href="../api_cxx/log_archive.html">DbEnv::log_archive</a>,
<a href="../api_cxx/log_compare.html">DbEnv::log_compare</a>,
<a href="../api_cxx/log_file.html">DbEnv::log_file</a>,
<a href="../api_cxx/log_flush.html">DbEnv::log_flush</a>,
<a href="../api_cxx/log_get.html">DbEnv::log_get</a>,
<a href="../api_cxx/log_put.html">DbEnv::log_put</a>,
<a href="../api_cxx/log_register.html">DbEnv::log_register</a>,
<a href="../api_cxx/log_stat.html">DbEnv::log_stat</a>
and
<a href="../api_cxx/log_unregister.html">DbEnv::log_unregister</a>.
</tt>
<table><tr><td><br></td><td width="1%">
<a href="../api_cxx/cxx_index.html"><img src="../images/api.gif" alt="API"></a><a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1><a href="http://www.sleepycat.com">Copyright Sleepycat Software</a></font>
</body>
</html>
