<!--$Id: rep_start.so,v 1.14 2003/11/08 19:17:48 bostic Exp $-->
<!--Copyright 1997-2003 by Sleepycat Software, Inc.-->
<!--All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB: DB_ENV-&gt;rep_start</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,b+tree,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,Java,C,C++">
</head>
<body bgcolor=white>
<a name="2"><!--meow--></a>
<table width="100%"><tr valign=top>
<td>
<h3>DB_ENV-&gt;rep_start</h3>
</td>
<td align=right>
<a href="../api_c/api_index.html"><img src="../images/api.gif" alt="API"></a>
<a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<hr size=1 noshade>
<tt>
<h3><pre>
#include &lt;db.h&gt;
<p>
int
DB_ENV-&gt;rep_start(DB_ENV *env, DBT *cdata, u_int32_t flags);
</pre></h3>
<hr size=1 noshade>
<h3>Description: DB_ENV-&gt;rep_start</h3>
<p>The DB_ENV-&gt;rep_start method configures the database environment as a client
or master in a group of replicated database environments.  Replication
master environments are the only database environments where replicated
databases may be modified.  Replication client environments are
read-only as long as they are clients.  Replication client environments
may be upgraded to be replication master environments in the case that
the current master fails or there is no master present.</p>
<p>The enclosing database environment must already have been opened by
calling the <a href="../api_c/env_open.html">DB_ENV-&gt;open</a> method and must already have been configured
to send replication messages by calling the <a href="../api_c/rep_transport.html">DB_ENV-&gt;set_rep_transport</a> method.</p>
<p>The DB_ENV-&gt;rep_start method
returns a non-zero error value on failure
and 0 on success.
</p>
<h3>Parameters</h3>
<p><dl compact>
<p><dt><b>cdata</b><dd>
The <b>cdata</b> parameter is an opaque data item that is sent over
the communication infrastructure when the client or master comes online
(see <a href="../ref/rep/newsite.html">Connecting to a new site</a> for
more information).  If no such information is useful, <b>cdata</b>
should be NULL.
<p><dt><b>flags</b><dd>
The <b>flags</b> parameter must be set to one of the following values:
<p><dl compact>
<p><dt><a name="DB_REP_CLIENT">DB_REP_CLIENT</a><dd>Configure the environment as a replication client.
<p><dt><a name="DB_REP_LOGSONLY">DB_REP_LOGSONLY</a><dd>Configure the environment as a log files-only client.
<p><dt><a name="DB_REP_MASTER">DB_REP_MASTER</a><dd>Configure the environment as a replication master.
</dl>
</dl>
<h3>Errors</h3>
<p>The DB_ENV-&gt;rep_start method
may fail and return one of the following non-zero errors:</p>
<p><dl compact>
<p><dt>EINVAL<dd>If the database environment was not already configured to communicate with
a replication group by a call to <a href="../api_c/rep_transport.html">DB_ENV-&gt;set_rep_transport</a>;
the database environment was not already opened; or if an
invalid flag value or parameter was specified.
</dl>
<hr size=1 noshade>
<h3>Class</h3>
<a href="../api_c/env_class.html">DB_ENV</a>
<h3>See Also</h3>
<a href="../api_c/rep_list.html">Replication and Related Methods</a>
</tt>
<table width="100%"><tr><td><br></td><td align=right>
<a href="../api_c/api_index.html"><img src="../images/api.gif" alt="API"></a><a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1><a href="../sleepycat/legal.html">Copyright (c) 1996-2003</a> <a href="http://www.sleepycat.com">Sleepycat Software, Inc.</a> - All rights reserved.</font>
</body>
</html>
