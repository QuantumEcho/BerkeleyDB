<! "@(#)db_register.so	10.11 (Sleepycat) 12/18/98">
<!Copyright 1997, 1998 by Sleepycat Software, Inc.  All rights reserved.>
<html>
<body bgcolor=white>
<head>
<title>Berkeley DB: DbLog.db_register</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,b+tree,btr
ee,hash,hashing,transaction,transactions,locking,logging,access method,access me
thods,java,C,C++">
</head>
<h1>DbLog.db_register</h1>
<hr size=1 noshade>
<tt>
<h3>
<pre>
import com.sleepycat.db.*;
<p>
public int db_register(Db dbp, String name, int dbtype)
	throws DbException;
</pre>
</h3>
<h1>Description</h1>
<p>
The DbLog.db_register method registers a file name with the log manager and
returns a file identification number.
<p>
This file identification number should be used in all subsequent log
messages that refer to operations on the file.  The log manager records
all file name to file identification number mappings at each checkpoint
so that a recovery process can identify the file to which a record in the
log refers.
<p>
The DbLog.db_register method is called when an access method registers the
open of a file.  The <b>dbp</b> parameter should be a
<a href="../../api_java/Db/class.html">Db</a> object
which is being returned by the access method.
<p>
The <b>type</b> parameter should be one of the types of databases
specified in <a href="../../api_java/Db/open.html">Db.open</a>, e.g., Db.DB_HASH.
<p>
The DbLog.db_register
method throws an exception that encapsulates an <b>errno</b> on failure.
<p>
<h1>Errors</h1>
If a fatal error occurs in Berkeley DB, the DbLog.db_register method may fail and throw a
<a href="../../api_java/DbRunRecoveryException/class.html">DbRunRecoveryException</a>, at which point all subsequent database
calls will also fail in the same way.
<p>
The DbLog.db_register
method may fail and throw an exception
for any of the errors specified for the following Berkeley DB and C library
functions:
abort(3),
close(3),
dbenv->db_paniccall(3),
fcntl(3),
fflush(3),
fprintf(3),
free(3),
fsync(3),
getenv(3),
getpid(3),
getuid(3),
isdigit(3),
lseek(3),
malloc(3),
memcmp(3),
memcpy(3),
memset(3),
open(3),
realloc(3),
sigfillset(3),
sigprocmask(3),
snprintf(3),
stat(3),
strerror(3),
strlen(3),
time(3),
unlink(3),
vfprintf(3),
vsnprintf(3),
and
write(3).
<p>
In addition, the DbLog.db_register
method may fail and throw an exception
encapsulating <b>errno</b>
for the following conditions:
<dl compact>
<p><dt>EINVAL<dd>An invalid flag value or parameter was specified.
<p>
</dl>
<p>
<h1>Class</h1>
<a href="../../api_java/DbLog/class.html">DbLog</a>
<p>
<h1>See Also</h1>
<a href="../../api_java/DbLog/archive.html">DbLog.archive</a>,
<a href="../../api_java/DbLog/close.html">DbLog.close</a>,
<a href="../../api_java/DbLog/compare.html">DbLog.compare</a>,
<a href="../../api_java/DbLog/file.html">DbLog.file</a>,
<a href="../../api_java/DbLog/flush.html">DbLog.flush</a>,
<a href="../../api_java/DbLog/get.html">DbLog.get</a>,
<a href="../../api_java/DbLog/open.html">DbLog.open</a>,
<a href="../../api_java/DbLog/put.html">DbLog.put</a>,
DbLog.db_register,
<a href="../../api_java/DbLog/stat.html">DbLog.stat</a>,
<a href="../../api_java/DbLog/unlink.html">DbLog.unlink</a>
and
<a href="../../api_java/DbLog/db_unregister.html">DbLog.db_unregister</a>.
</tt>
</body>
</html>
